# Maintainer: Tibo De Peuter <tibo.depeuter@gmail.com>
pkgbase=tdpeuter
pkgname=(tdpeuter-base tdpeuter-dev tdpeuter-desktop tdpeuter-me)
pkgver=0.0.8
pkgrel=1
pkgdesc="Sysconfig for my systems"
arch=(any)
url="https://git.depeuter.tk/tdpeuter/arch-pkgs"
license=(GPL)
groups=(tdpeuter)

package_tdpeuter-base() {
    
    # Linux base
    depends=(
        base 
        linux 
        linux-firmware
    )

    # Networking
    depends+=(
    	networkmanager
    )

    post_install() {
        >&2 echo "Enabling NetworkManager"
	    systemctl enable --now NetworkManager.service

        >&2 echo "Fixing locale"
        sed -i "s/^#\(nl_BE.UTF-8 UTF-8\)/\1/g" "/etc/locale.gen"
        locale-gen
    }
}

package_tdpeuter-dev() {
    depends=(
        tdpeuter-base
    )

    depends+=(
	archlinux-keyring
	autoconf
	automake
	binutils
	bison
	debugedit
	fakeroot
	file
	findutils
	flex
	gawk
	gcc
	gettext
	git
	grep
	groff
	gzip
	libtool
	m4
	make
    man
	pacman
	patch
	pkgconf
	sed
	sudo
	texinfo
	which
    )

    # C/C++ programming
    depends+=(
        boost
        boost-libs
        cmake
        gcc
        gdb
        glew
        pkg-config
        sdl2
        sdl2_image
    )

    # Haskell programming
    depends+=(
        stack
    )

    # Networking
    depends+=(
        termshark
        traceroute
        wireshark-qt
    )
}

package_tdpeuter-desktop() {
    install=tdpeuter-desktop.install

    depends=(
        tdpeuter-base
    )

    # To move dotfiles around
    depends+=(
        stow
    )
   
    # Base of sway desktop
    depends+=(
        alacritty
        brightnessctl
        dunst
        libnotify
        swayidle
        waybar
        xorg-xwayland
    )

    # Fonts
    depends+=(
        awesome-terminal-fonts
        noto-fonts
        noto-fonts-cjk
        noto-fonts-emoji
    )

}

package_tdpeuter-me() {
    depends=(
        tdpeuter-base
        tdpeuter-desktop
    )

    depends+=(
        firefox
        nextcloud-client
        qutebrowser
    )
    
    # Development
    depends+=(
        code
    )

    # Tools
    depends+=(
        vifm
        zathura
        zathura-pdf-mupdf
        zellij
    )

    # Socials
    depends+=(
    )

    # Entertainment
    depends+=(
    )

    post_install() {
        code --install-extension ms-vscode.cpptools
    }
}
